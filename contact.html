<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IEEE ODTÜ KKK</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="icon" type="image/x-icon" href="icons/favicon.ico">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</head>
<body>
    <nav class="navbar sticky-top navbar-expand-md bg-light" data-bs-theme = "light">
    <div class="container-lg px-lg-3">
        <a class="navbar-brand" href="index.html">
        <img src="https://i.postimg.cc/DZfP24t6/metuieee.png" alt="IEEE Logo" height="50">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
            <li class="nav-item">
            <a class="nav-link" href="index.html">Ana Sayfa</a>
            </li>
            <li class="nav-item">
            <a class="nav-link" href="team.html">Ekibimiz</a>
            </li>
            <li class="nav-item">
            <a class="nav-link" href="teknofest.html">Teknofest</a>
            </li>
            <li class="nav-item">
            <a class="nav-link active" aria-current="page"  href="contact.html">İletişim</a>
            </li>
            <li class="nav-item">
            <a class="nav-link" href="calender.html">Takvim</a>
            </li>
        </ul>
        </div>
    </div>
    </nav>
    <hr class="border-dark border-2 my-0">

    <header class="text-center">
        <h2 class="mt-4">İletişim</h2>
    </header>

    <main class="my-4">
        <div class="container">
            <div class="row g-4 justify-content-center">
                <!-- İletişim Formu -->
                <div class="col-12 col-lg-6">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title mb-3">İletişim Formu</h5>
                            <p class="card-text mb-4">Mesajınızı bırakın, en kısa sürede size geri dönüş yapalım.</p>

                            <form id="contactForm" action="https://formspree.io/f/YOUR_FORM_ID" method="POST">
                                <div class="mb-3">
                                    <label for="name" class="form-label">Ad Soyad <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="name" name="name" required>
                                </div>

                                <div class="mb-3">
                                    <label for="email" class="form-label">E-posta <span class="text-danger">*</span></label>
                                    <input type="email" class="form-control" id="email" name="email" required>
                                </div>

                                <div class="mb-3">
                                    <label for="subject" class="form-label">Konu</label>
                                    <input type="text" class="form-control" id="subject" name="subject">
                                </div>

                                <div class="mb-3">
                                    <label for="message" class="form-label">Mesaj <span class="text-danger">*</span></label>
                                    <textarea class="form-control" id="message" name="message" rows="5" required></textarea>
                                </div>

                                <button type="submit" class="btn btn-primary w-100">Gönder</button>
                            </form>

                            <div id="formMessage" class="mt-3"></div>
                        </div>
                    </div>
                </div>

                <!-- İletişim ve Sosyal Medya -->
                <div class="col-12 col-lg-6">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title mb-3">Bize Ulaşın</h5>
                            <p class="card-text">Sorularınız için e‑posta gönderebilir veya sosyal medya hesaplarımızdan bize ulaşabilirsiniz.</p>

                            <div class="row g-2 g-lg-3 mb-3">
                                <div class="col-12">
                                    <a href="mailto:ieeemetuncc@gmail.com?subject=IEEE%20METU%20NCC%20%7C%20İletişim&body=Merhaba%2C" class="btn btn-primary w-100">
                                        Email Gönder
                                    </a>
                                </div>
                                <div class="col-12 col-md-6">
                                    <a href="https://www.instagram.com/ieeemetuncc/" target="_blank" class="btn btn-outline-dark d-flex align-items-center justify-content-center w-100">
                                        <img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/instagram.svg" alt="Instagram" height="20" class="me-2"> Instagram
                                    </a>
                                </div>
                                <div class="col-12 col-md-6">
                                    <a href="https://www.linkedin.com/company/ieee-metu-nothern-cyprus-student-branch/" target="_blank" class="btn btn-outline-dark d-flex align-items-center justify-content-center w-100">
                                        <img src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/icons/linkedin.svg"  alt="LinkedIn" height="20" class="me-2"> LinkedIn
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Topluluk Odası ve Harita -->
                <div class="col-12">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title mb-3">Topluluk Odası</h5>
                            <p class="card-text">
                                Konum: ODTÜ Kuzey Kıbrıs Kampüsü Mühendislik Labları Binası
                            </p>
                            <div class="ratio ratio-16x9 rounded overflow-hidden">
                                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2661.859569129254!2d33.01903722743273!3d35.249821421874096!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14ddfcc2e63490b5%3A0x9059c4c8d0755e39!2sIEEE%20METU%20NCC!5e0!3m2!1str!2str!4v1758229440969!5m2!1str!2str" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        // Supabase configuration DONT SHARE THIS LINKS (url, anon key)
        const SUPABASE_URL = 'https://fknbnbhdanqilwksftla.supabase.co';    //bu kısım önemli | herhangi bir şekilde internette paylaşmayın gptye atmayın
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZrbmJuYmhkYW5xaWx3a3NmdGxhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzOTU1NDksImV4cCI6MjA3NDk3MTU0OX0.ZbF_jGclYqIHh61ZdLEn1jw6mEKQlYNBr-gkQQ44DYo';  //bunu da atmayın hiçbir yere

        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        //form submission
        const form = document.getElementById('contactForm');
        const formMessage = document.getElementById('formMessage');

        form.addEventListener('submit', async function(e) {
            e.preventDefault();

            // Show loading state
            const submitButton = form.querySelector('button[type="submit"]');
            const originalButtonText = submitButton.innerHTML;
            submitButton.disabled = true;
            submitButton.innerHTML = '<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>Gönderiliyor...';

            //dataların alınması / get the data
            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                subject: document.getElementById('subject').value,
                message: document.getElementById('message').value,
                created_at: new Date().toISOString()
            };

            try {
                //supabasele bağlantı
                const { data, error } = await supabase
                    .from('contact_messages')
                    .insert([formData]);

                if (error) throw error;

                //success display message
                formMessage.innerHTML = '<div class="alert alert-success alert-dismissible fade show" role="alert">' +
                    'Mesajınız başarıyla gönderildi! En kısa sürede size dönüş yapacağız.' +
                    '<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>' +
                    '</div>';
                form.reset();

            } catch (error) {
                //error display message
                console.error('Error:', error);
                formMessage.innerHTML = '<div class="alert alert-danger alert-dismissible fade show" role="alert">' +
                    'Bir hata oluştu: ' + error.message + ' Lütfen tekrar deneyin.' +
                    '<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>' +
                    '</div>';
            } finally {
                //formu resetliyor / resets the form
                submitButton.disabled = false;
                submitButton.innerHTML = originalButtonText;
            }
        });
    </script>
</body>
</html>